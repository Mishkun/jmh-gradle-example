buildscript {
    ext.kotlin_version = '1.2.71'
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
    }
}
plugins {
  id "me.champeau.gradle.jmh" version "0.4.6"
}

allprojects {
    apply plugin: 'java'
    apply plugin: 'idea'
    apply plugin: 'kotlin'

    group = 'me.mishkun.sample'
    version = '1.0-SNAPSHOT'

    sourceCompatibility = 1.7
    targetCompatibility = 1.7

    repositories {
        jcenter()
    }
}


apply plugin: 'me.champeau.gradle.jmh'

jmh {
    include = ['.*Kotlin.*']
    humanOutputFile = null
    warmupIterations = 10
    iterations = 10
    timeUnit = 'ns'
    benchmarkMode = [ "avgt" ]
}

// it is possible to tweak the jmhJar task directly
jmhJar.baseName = 'custom'

repositories {
    mavenCentral()
}
dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version"
}
compileKotlin {
    kotlinOptions {
        jvmTarget = "1.8"
    }
}
compileTestKotlin {
    kotlinOptions {
        jvmTarget = "1.8"
    }
}
